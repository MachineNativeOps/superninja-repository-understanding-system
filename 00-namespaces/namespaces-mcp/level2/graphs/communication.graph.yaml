# Communication Module Dependency Graph
# Defines RAG/DAG integration and dependencies

version: "2.0.0"
semantic_role: dependency_graphs
artifact_type: graph
semantic_root: false

graph:
  name: "communication-dependencies"
  version: "1.0.0"
  description: "Dependency graph for communication module"
  type: "dag"

nodes:
  - id: "communication"
    type: "module"
    artifact: "communication.manifest.yaml"
    semantic_root: true
    layer: 1
    
  - id: "message-bus"
    type: "component"
    artifact: "src/communication/message-bus.ts"
    parent: "communication"
    
  - id: "event-emitter"
    type: "component"
    artifact: "src/communication/event-emitter.ts"
    parent: "communication"
    
  - id: "topic-manager"
    type: "component"
    artifact: "src/communication/topic-manager.ts"
    parent: "communication"
    
  - id: "message-queue"
    type: "component"
    artifact: "src/communication/message-queue.ts"
    parent: "communication"
    
  - id: "communication-schema"
    type: "schema"
    artifact: "schemas/communication.schema.yaml"
    parent: "communication"
    
  - id: "communication-spec"
    type: "spec"
    artifact: "specs/communication.spec.yaml"
    parent: "communication"
    
  - id: "communication-policy"
    type: "policy"
    artifact: "policies/communication.policy.yaml"
    parent: "communication"

edges:
  - from: "communication"
    to: "communication-schema"
    type: "uses"
    description: "Module uses schema for validation"
    
  - from: "communication"
    to: "communication-spec"
    type: "implements"
    description: "Module implements specification"
    
  - from: "communication"
    to: "communication-policy"
    type: "enforces"
    description: "Module enforces policy"
    
  - from: "message-bus"
    to: "topic-manager"
    type: "depends_on"
    description: "Message bus uses topic manager"
    
  - from: "message-bus"
    to: "event-emitter"
    type: "depends_on"
    description: "Message bus uses event emitter"
    
  - from: "topic-manager"
    to: "message-queue"
    type: "depends_on"
    description: "Topic manager uses message queue"

integration_points:
  upstream:
    - module: "protocol"
      interface: "transport-layer"
      description: "Protocol layer uses communication for transport"
    
    - module: "data-management"
      interface: "event-bus"
      description: "Data management uses communication for events"
  
  downstream: []

rag_integration:
  enabled: false
  description: "Communication module does not directly participate in RAG pipeline"

dag_integration:
  enabled: true
  workflows:
    - name: "message-processing-pipeline"
      description: "DAG workflow for message processing"
      steps:
        - "receive-message"
        - "validate-message"
        - "route-message"
        - "deliver-message"

semantic_closure:
  status: "complete"
  validation:
    - rule: "no_circular_dependencies"
      status: "pass"
    - rule: "all_dependencies_resolved"
      status: "pass"
    - rule: "semantic_consistency"
      status: "pass"

visualization:
  layout: "hierarchical"
  direction: "top-to-bottom"
  grouping: "by_layer"

metadata:
  created_at: "2025-01-10T12:40:00Z"
  updated_at: "2025-01-10T12:40:00Z"
  version: "2.0.0"
  status: "active"
  references:
    - "communication.manifest.yaml"
    - "dependency-registry.yaml"